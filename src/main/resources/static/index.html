<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>SyPastebin</title>
    <link rel="stylesheet" href="css/indexCss.css">
    <script src="js/indexScript.js"></script>
    <script src="script/jquery.js"></script>
    <script>
        $(document).ready(function () {
            $("#generate_btn").click(function () {
                var pasteCode = $("#paste_code").val();
                var saveTime = $("#select_save_time option:selected").val();
                $.ajax({
                    url: "/save",
                    type: "post",
                    dataType: "html",
                    data: {
                        "pasteCode": pasteCode,
                        "saveTime": saveTime
                    },
                    success: function (msg) {
                        $("#res").html(msg);
                    }
                });
            });
        });
    </script>
</head>

<body>
<div style="text-align: center">
    <h2>welcome SyPastebin</h2>
</div>

<!--点击Generate，进行生成url，而本页面不动。通过ajax返回url并显示出来-->
<!--由js的ajax实现提交数据到后台-->

<div style="text-align: center">
    <label >粘贴面板</label>
    <input id="paste_code" name="paste_code" type="text">

    <!--下拉选择保存时间-->
    <label >选择保存时间</label>
    <select id="select_save_time" name="select_save_time">
        <option id="time1" value="1" selected>不过期</option>
        <option id="time2" value="2">一天</option>
        <option id="time3" value="3">两天</option>
        <option id="time4" value="4">一周</option>
        <option id="time5" value="5">一个月</option>
    </select>

    <button id="generate_btn" name="generate">生成</button>

</div>

<!--ajax取得生成的url，并显示在下面，作为一个link给用户访问-->

<!--todo这部分可先隐藏，生成url再显示-->
<div style="text-align: center">
    生成的url：
    <p id="res"></p>
    <button>访问</button>
    <button>复制</button>
</div>

</body>

</html>